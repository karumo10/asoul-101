<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        function turnPlayToPause(music, music_btn) {
            var promise = music.play();
            if (promise !== undefined) {
                promise.then(_ => {
                    music_btn.src='../assets/pause.png';
                }).catch(err => {
                    console.log(err);
                })
            }
        }
        function playPause() {
            var music = document.getElementById('music');
            var music_btn = document.getElementById('music-btn');
            if (music.paused == true){
                turnPlayToPause(music, music_btn);
            }
            else {
                console.log("haha")
                var promise = music.pause();
                music_btn.src='../assets/play.png';
            }
        }
        var musicList = new Array();
        musicList = ["https://mknaifen-my.sharepoint.com/personal/nf_asoul-rec_com/_layouts/15/download.aspx?UniqueId=593fca5d-07e5-4c04-a047-ee3f6a97a69c&Translate=false&tempauth=eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbWtuYWlmZW4tbXkuc2hhcmVwb2ludC5jb21AYTcyNTRmOWEtNWMwNi00NDI1LThkZGUtZjVhMmExNzA0Zjc3IiwiaXNzIjoiMDAwMDAwMDMtMDAwMC0wZmYxLWNlMDAtMDAwMDAwMDAwMDAwIiwibmJmIjoiMTY1MTQwNDA2MyIsImV4cCI6IjE2NTE0MDc2NjMiLCJlbmRwb2ludHVybCI6IjdQQTlqdGg3THowWmo2dmNscFA1K05uSW9CVENyV0xkWWRxejQxZFQ1VUk9IiwiZW5kcG9pbnR1cmxMZW5ndGgiOiIxNDgiLCJpc2xvb3BiYWNrIjoiVHJ1ZSIsImNpZCI6IlptWTVaVEEzWm1NdE1HWmxaQzAwTmpWaExXRm1NVFl0WTJZM01UZzFOekl4WVRsaSIsInZlciI6Imhhc2hlZHByb29mdG9rZW4iLCJzaXRlaWQiOiJOR0UxWkRWaFpHTXROMkl6WmkwMFkyVTVMV0k1WWpZdFlUQmxNMkl5T1dZeE16WmwiLCJhcHBfZGlzcGxheW5hbWUiOiLlvZXmkq3nq5ktU3R1ZGlvIiwiZ2l2ZW5fbmFtZSI6IueyiSIsImZhbWlseV9uYW1lIjoi5aW257KJIiwic2lnbmluX3N0YXRlIjoiW1wia21zaVwiXSIsImFwcGlkIjoiMDIxYWUyYjItODlkMC00NmY5LWFmOGItYThmMzdiNDJhZWE5IiwidGlkIjoiYTcyNTRmOWEtNWMwNi00NDI1LThkZGUtZjVhMmExNzA0Zjc3IiwidXBuIjoibmZAYXNvdWwtcmVjLmNvbSIsInB1aWQiOiIxMDAzMjAwMTlCOEZDM0I1IiwiY2FjaGVrZXkiOiIwaC5mfG1lbWJlcnNoaXB8MTAwMzIwMDE5YjhmYzNiNUBsaXZlLmNvbSIsInNjcCI6ImFsbGZpbGVzLnJlYWQgYWxsZmlsZXMud3JpdGUiLCJ0dCI6IjIiLCJ1c2VQZXJzaXN0ZW50Q29va2llIjpudWxsLCJpcGFkZHIiOiIyMC4xOTAuMTQ0LjE2OSJ9.bmdtVm90RlhEMWZJZmxRVWhSZ09DV2lQOE04K0Q2L3VST0tGcEdXRGZidz0&ApiVersion=2.0"]; //用数组存储所有歌曲的路径 测试：Quiet
        var num = 0;
        var n = musicList.length;//获取数组的长度
        function lastmusic() {
            num = (num+n-1)%n;
            var music = document.getElementById('music');
            var music_btn = document.getElementById('music-btn');
            music.src = musicList[num];
            turnPlayToPause(music, music_btn);
        }//切上一首歌
        function nextmusic() {
            num = (num+1)%n;
            var music = document.getElementById('music');
            var music_btn = document.getElementById('music-btn');
            music.src = musicList[num];
            turnPlayToPause(music, music_btn);
        }//切下一首歌
        window.onload=function () {
            music.addEventListener('ended', function () {
                nextmusic();
            },false)
        }//自动连播功能，监听播放情况，结束之后就调用下一首歌的函数

    </script>
    <title>Document</title>
</head>
<body>
    <audio preload id='music'><source src="https://mknaifen-my.sharepoint.com/personal/nf_asoul-rec_com/_layouts/15/download.aspx?UniqueId=593fca5d-07e5-4c04-a047-ee3f6a97a69c&Translate=false&tempauth=eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbWtuYWlmZW4tbXkuc2hhcmVwb2ludC5jb21AYTcyNTRmOWEtNWMwNi00NDI1LThkZGUtZjVhMmExNzA0Zjc3IiwiaXNzIjoiMDAwMDAwMDMtMDAwMC0wZmYxLWNlMDAtMDAwMDAwMDAwMDAwIiwibmJmIjoiMTY1MTQwNDA2MyIsImV4cCI6IjE2NTE0MDc2NjMiLCJlbmRwb2ludHVybCI6IjdQQTlqdGg3THowWmo2dmNscFA1K05uSW9CVENyV0xkWWRxejQxZFQ1VUk9IiwiZW5kcG9pbnR1cmxMZW5ndGgiOiIxNDgiLCJpc2xvb3BiYWNrIjoiVHJ1ZSIsImNpZCI6IlptWTVaVEEzWm1NdE1HWmxaQzAwTmpWaExXRm1NVFl0WTJZM01UZzFOekl4WVRsaSIsInZlciI6Imhhc2hlZHByb29mdG9rZW4iLCJzaXRlaWQiOiJOR0UxWkRWaFpHTXROMkl6WmkwMFkyVTVMV0k1WWpZdFlUQmxNMkl5T1dZeE16WmwiLCJhcHBfZGlzcGxheW5hbWUiOiLlvZXmkq3nq5ktU3R1ZGlvIiwiZ2l2ZW5fbmFtZSI6IueyiSIsImZhbWlseV9uYW1lIjoi5aW257KJIiwic2lnbmluX3N0YXRlIjoiW1wia21zaVwiXSIsImFwcGlkIjoiMDIxYWUyYjItODlkMC00NmY5LWFmOGItYThmMzdiNDJhZWE5IiwidGlkIjoiYTcyNTRmOWEtNWMwNi00NDI1LThkZGUtZjVhMmExNzA0Zjc3IiwidXBuIjoibmZAYXNvdWwtcmVjLmNvbSIsInB1aWQiOiIxMDAzMjAwMTlCOEZDM0I1IiwiY2FjaGVrZXkiOiIwaC5mfG1lbWJlcnNoaXB8MTAwMzIwMDE5YjhmYzNiNUBsaXZlLmNvbSIsInNjcCI6ImFsbGZpbGVzLnJlYWQgYWxsZmlsZXMud3JpdGUiLCJ0dCI6IjIiLCJ1c2VQZXJzaXN0ZW50Q29va2llIjpudWxsLCJpcGFkZHIiOiIyMC4xOTAuMTQ0LjE2OSJ9.bmdtVm90RlhEMWZJZmxRVWhSZ09DV2lQOE04K0Q2L3VST0tGcEdXRGZidz0&ApiVersion=2.0"></audio>
    <a href="javascript:lastmusic()"><img src="../assets/prev.png" width="96" height="96" border="0"></a>
    <a href="javascript:playPause()"><img src="../assets/play.png" width="96" height="96" id="music-btn" border="0"></a>
    <a href="javascript:nextmusic()"><img src="../assets/next.png" width="96" height="96" border="0"></a>
    <!-- 插入图片且引用上面的函数，实现功能 -->

</body>
</html>